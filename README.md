# Biznespark — сайт ЖК «Крепость»

Маркетинговый сайт застройщика и лендинг жилого комплекса «Крепость» (квартал 65, Якутск). Корпоративная информация, описание ЖК, галерея визуализаций, форма обратной связи и интерактивный подбор квартир через виджет Profitbase.

## Стек и библиотеки

- **Next.js 16** (App Router, Turbopack)
- **React 19**
- **TypeScript** (strict)
- **Tailwind CSS 4** + PostCSS
- **Catalyst** — UI-компоненты (кнопки, заголовки, форма, навигация и др.)
- **shadcn/ui** — утилита `cn`, компонент Button
- **Headless UI** (`@headlessui/react`) — доступные интерактивные компоненты
- **Motion** — анимации
- **class-variance-authority**, **clsx**, **tailwind-merge** — работа с классами и вариантами стилей
- **ESLint** + **eslint-config-next**
- Без CMS, без БД, без админки

## Структура проекта

- `src/app/` — страницы и layout (App Router)
- `src/components/` — переиспользуемые компоненты (Hero, AboutSection, ChooseApartmentSection, GallerySection, ContactSection, ProfitbaseFloatingWidget и др.)
- `src/components/ui/` — UI-компоненты (shadcn)
- `src/components/catalyst/` — компоненты Catalyst
- `src/lib/` — утилиты
- `public/` — статика (изображения, видео, галерея)

## Локальный запуск

```bash
npm install
npm run dev
```

Сайт: [http://localhost:3000](http://localhost:3000).

## Сборка

```bash
npm run build
npm start
```

## Переменные окружения

Создай `.env.local` в корне. Для виджета Profitbase нужны ключи с префиксом `NEXT_PUBLIC_PB_*`. Локально виджет может возвращать 401/403, если в кабинете Profitbase не добавлен localhost; на проде укажи домен в настройках доступа.

## Деплой с локала в GitHub

1. Закоммить и запушить изменения:
   ```bash
   git add .
   git commit -m "описание изменений"
   git push origin main
   ```
2. Репозиторий обновится; для деплоя на сервер используй скрипты из раздела ниже.

## Деплой на сервер

Сервер должен быть с Docker и Docker Swarm; приложение разворачивается как сервис Swarm.

**Два варианта:**

1. **Деплой из GitHub** — на сервере клонируется репозиторий, собирается образ, обновляется сервис.  
   Запуск с ПК: **`scripts\deploy.bat`**  
   В скрипте нужно указать путь к SSH-ключу и адрес сервера (хост и пользователь).

2. **Деплой с локальной папки** — архив проекта копируется на сервер по SCP, там собирается образ и обновляется сервис. Удобно, если правки ещё не запушены в GitHub.  
   Запуск с ПК: **`scripts\deploy-local.bat`**  
   Аналогично в скрипте задаются путь к ключу и адрес сервера.

В оба скрипта не добавляй IP, пароли и содержимое ключей в репозиторий — храни их только локально или в секретах.

## Лицензия

Private.
